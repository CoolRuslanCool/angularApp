<form (ngSubmit)="validateForm(form)" #form="ngForm">
  <div ngModelGroup="user" #user="ngModelGroup">
    <div class="form-group" [ngClass]="{'has-error': email.invalid && email.touched}">
      <label for="email">Email address</label>
      <input type="email"
             class="form-control"
             id="email"
             aria-describedby="emailHelp"
             placeholder="Enter email"
             [ngModel]="defEmail"
             name="email"
             required
             #email="ngModel"
      >
      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password"
             class="form-control"
             id="password"
             placeholder="Password"
             ngModel
             name="password"
             required
             #password="ngModel"
      >
    </div>
  </div>
  <p *ngIf="password.invalid">Data invalid</p>
  <pre *ngIf="submitted">{{user.value | json }}</pre>
  <div class="form-check">
    <input type="checkbox"
           class="form-check-input"
           id="exampleCheck1"
           ngModel
           name="checkbox"
    >
    <label class="form-check-label" for="exampleCheck1">Check me out</label>
  </div>
  <button [disabled]="form.invalid" type="submit" class="btn btn-primary">Submit</button>
</form>
